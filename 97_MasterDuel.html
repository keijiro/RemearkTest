<!DOCTYPE html>
<html>
  <head>
    <title>49 MSAA</title>
    <meta charset="utf-8">
    <style>
      .remark-slide-content {
        color: white;
        background-color: black;
        font-size: 50pt;
        padding: 0px 0.5em;
      }
      .remark-code-line { font-size: 25pt; margin: 0.2em 0px; }
      p { margin: 0.5em 0px; line-height: 120%; }
      code { margin: 0px 2em; }
    </style>
  </head>
  <body>
<textarea id="source">

みなさん、遊戯王マスターデュエルはプレイしていますか？

もちろん僕は毎日プレイしています。

---

ところでみなさん、マスターデュエルをプレイしていると、画面の右上に、何か奇妙な模様があるのに気づきませんか？

この辺りですね。

ここに、何かこう、薄く白っぽい、ブロック状の模様がありますよね。

---

このトランジション画面など、特に分かりやすく目立つ気がします。

ゲーム開発をやったことのある人なら、これが気になっていたんじゃないでしょうか。

なんか画面の端にノイズが乗ってるぞ！って、思っちゃいますよね。

また、エンジニアなら、この模様を見て、なんとなくピンとくるかもしれません。

恐らくこれはバーコードの一種ですね。

何らかの情報がここに埋め込まれているんでしょう。

つまりこれは、簡単な電子透かし、ステガノグラフィの一種であると考えられます。

---

それじゃあ、いったい何のデータがここに埋め込まれているんでしょうか？

可能性として考えられるのは、ユーザーID やアプリのバージョン番号、デバイス情報などがあり得ると思います。

僕は、この中でも特にユーザー ID である可能性が高いと考えました。

---

同じアカウントでプレイすると、どの環境でも、同じバーコードが現れるんですよね。

また、SNS で共有されているスクリーンショットを確認すると、ユーザー毎に異なるバーコードが現れていることが分かります。

---

それじゃあ、ひとまずこのバーコードがユーザー ID であると仮定して、解析に挑戦してみましょう。

まず、コントラストを上げて見やすくします。

埋め込まれているバーコードは、恐らくこんな感じでしょう。

上に僕のユーザー ID を並べてみます。

僕のユーザー ID は 493 372 096 です。

この ID を２進数に変換すると、こんな感じですね。

バーコードと比較してみると……かなり似ていますね。

左右の順序を入れ替えてみましょう。

はい、完全に一致しました。

左端に余計なビットがありますが、これは恐らくバーコードの終端を表すマーカーだと思います。

ということで解析終了です。

思ったよりも単純でしたね。

ということで、マスターデュエルの画面右上に埋め込まれているバーコードは、プレイヤーの ID を表している、ということで確定です。

---

でも、なんでこんな情報が画面に埋め込まれているんでしょうか？

---

このようなステガノグラフィは、プリンターやコピー機を使った印刷物にも埋め込まれていることがあります。

肉眼では見えにくい形で、印刷に使用した機器の ID が印刷されるようになっているんですね。

---

このような情報は、これらの機器が犯罪に使われた場合に備えて埋め込まれています。

コピー機を使って文書の偽造が行われた場合、この情報から機器の ID を特定して、犯人の所在を割り出す、というようなことが行われるわけです。

マスターデュエルでも、不正使用を摘発するための一手段として、このような情報が埋め込まれているのかもしれませんね。

---

あるいは、これをテクニカルサポートのために使うこともできるかもしれません。

例えば、ユーザーのアカウントが何らかの不具合によって破壊され、ゲームを起動できなくなったとします。

サポートのためには、まずそのユーザーの ID を特定する必要がありますが、ゲームが起動できなければ調べることができません。

そんなとき、スクリーンショットは残っていませんか？と聞くことができます。

そこから ID を特定して、問題解決へと繋げることができるかもしれない……というわけです。

---

もう一つ考えられるのは、SNS 連動企画のための仕込みです。

例えば、SNS でスクリーンショットを共有したらジェムをプレゼント！なんていう企画を立ち上げたとします。

このとき、このバーコードを使ってユーザーを特定し、ジェムを与えることができるわけです。

---

というように色々と推測はできますが、正直なところ、どれもあんまり説得力はありませんね。

---

恐らく、これといった確固たる用途は存在していないんじゃないでしょうか。

いずれこういうのが役に立つこともあるかもね…というぐらいの曖昧な動機で埋め込まれている気がします。

プレイヤー側にしてみても、ユーザー ID を公開して困るケースというのは殆ど無いと思います。

このバーコードの存在を気にする必要はほぼ無いでしょう。

ただ、どうしてもユーザー ID を隠した状態で、スクリーンショットやプレイ動画を公開したい、という場合には、このバーコードを隠すことをお勧めします。

---

幸いなことに、画面端の目立たない領域ですから、簡単に隠すことができます。

画面上端をほんの少しクロップするだけでOKですね。

---

今回の動画はいかがでしたでしょうか？

このバーコードの存在には以前から気付いていたんですが、なかなか解析する機会が無くて、ずっとモヤモヤしていました。

今回、バーコードの仕様まで特定することができて、個人的にもスッキリしました。

この情報が、みなさんのデュエル体験をより良くするための一助になれば幸いです。

</textarea>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create({
        ratio: '16:9',
        highlightStyle: 'sunburst',
        slideNumberFormat: ''
      });
    </script>
  </body>
</html>
